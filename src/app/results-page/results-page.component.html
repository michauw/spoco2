<div class="container-fluid">
    <spoco-header></spoco-header>
    <div class="col-md-10 offset-md-1">
        <spoco-info-box 
            [results_fetched]="tabs[current_tab].number_of_results > 0" 
            [results_number]="tabs[current_tab].number_of_results" 
            [module]="tabs[current_tab].module"
            [query]="tabs[current_tab].query">
        </spoco-info-box>
    </div>
    <div class="col-md-10 offset-md-1">
        <mat-tab-group (selectedTabChange)="tabChanged($event)" [selectedIndex]="current_tab" class="tabs">
            <mat-tab *ngFor="let tab of tabs; index as i" label="{{ get_tab_name (i) }}">
                <spoco-results [module]="tabs[i].module" (results_fetched_event)="results_fetched($event, i)" (results_added_event)="add_tab($event)" (results_updated_event)="tabs[current_tab].number_of_results=$event"></spoco-results>
            </mat-tab>
        </mat-tab-group>
    </div>
</div>