<div class="action-box float-end text-end">
  @if (mode.show) {
    <fa-icon
      class="icon"
      [ngClass]="mode.enabled ? 'plain clickable' : 'gray'"
      [icon]="mode.icon"
      (click)="toggleDisplayMode()"
      [matTooltip]="mode.help"
      [matTooltipShowDelay]="tooltipDelay">
    </fa-icon>
  }
  @if (meta.show) {
    <fa-icon
      class="icon plain clickable"
      [ngClass]="meta.enabled ? '' : 'gray'"
      [icon]="meta.icon"
      (click)="switchMeta()"
      [matTooltip]="meta.help"
      [matTooltipShowDelay]="tooltipDelay">
    </fa-icon>
  }
  @if (annotation.show) {
    <div class="icon-wrapper">
      @if (annotation.show) {
        <fa-icon
          class="icon"
          [ngClass]="annotation.enabled ? 'flavoured' : 'gray'"
          [icon]="annotation.icon"
          [matTooltip]="annotation.help"
          [matTooltipPosition]="'above'"
          [matTooltipShowDelay]="tooltipDelay">
        </fa-icon>
      }
      @if (annotation.enabled) {
        <div class="icon-dropdown">
          @if (annotation.flavours['tooltip'].show) {
            <fa-icon
              class="icon"
              [ngClass]="annotation.flavours['tooltip'].enabled ? 'option' : 'gray background'"
              [icon]="annotation.flavours['tooltip'].icon"
              (click)="setAnnotationDisplay('tooltip')"
              [matTooltip]="annotation.flavours['tooltip'].help">
            </fa-icon>
          }
          @if (annotation.flavours['mixed'].show) {
            <fa-icon
              class="icon"
              [ngClass]="annotation.flavours['mixed'].enabled ? 'option' : 'gray background'"
              [icon]="annotation.flavours['mixed'].icon"
              (click)="setAnnotationDisplay('mixed')"
              [matTooltip]="annotation.flavours['mixed'].help">
            </fa-icon>
          }
          @if (annotation.flavours['inline'].show) {
            <fa-icon
              class="icon"
              [ngClass]="annotation.flavours['inline'].enabled ? 'option' : 'gray background'"
              [icon]="annotation.flavours['inline'].icon"
              (click)="setAnnotationDisplay('inline')"
              [matTooltip]="annotation.flavours['inline'].help">
            </fa-icon>
          }
        </div>
      }
    </div>
  }
  @if (layers.show) {
    <fa-icon
      class="icon"
      ngClass="eye.enabled ? 'clickable' : 'gray'"
      [icon]="layers.icon"
      (click)="switchDisplayLayer()"
      [matTooltip]="layers.help"
      [matTooltipShowDelay]="tooltipDelay">
    </fa-icon>
  }
  @if (download.show) {
    <div class="icon-wrapper">
      @if (download.show) {
        <fa-icon
          class="icon"
          [ngClass]="download.enabled ? 'flavoured' : 'gray'"
          [icon]="download.icon"
          [matTooltip]="download.help"
          [matTooltipPosition]="'above'"
          [matTooltipShowDelay]="tooltipDelay">
        </fa-icon>
      }
      @if (download.enabled) {
        <div class="icon-dropdown">
          @if (download.flavours['selected'].show) {
            <fa-icon
              class="icon"
              [ngClass]="download.flavours['selected'].enabled ? 'option' : 'gray'"
              [icon]="download.flavours['selected'].icon"
              (click)="downloadResults('checked')"
              [matTooltip]="download.flavours['selected'].help">
            </fa-icon>
          }
          @if (download.flavours['all'].show) {
            <fa-icon
              class="icon"
              [ngClass]="download.flavours['all'].enabled ? 'option' : 'gray'"
              [icon]="download.flavours['all'].icon"
              (click)="downloadResults('all')"
              [matTooltip]="download.flavours['all'].help">
            </fa-icon>
          }
        </div>
      }
    </div>
  }


</div>
